<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <style type="text/css">
    body{
        width:1000px;
        margin:auto;
        padding:5px;
        height:auto;
    }
    #clock{
        border:1px solid black;
        margin:0 100px;
    }
    #left{
        width:20%;
        float:left;
    }
    #left ul{
        padding:0;
    }
    #left li{
    list-style-type:none;
    }
    #left li input{
    display:block;
    }
    #right{
        width:600px
        float:left;
    }
   
    </style>
    <script type="text/javascript">
        var colors = ['#FF6600', '#FF00FF', '#CCCC66', '#00FF00', '#30E478', '#E4DE30', '#30D5E4', '#66656E'
        , '#CCCC66', '#00FF00', '#30E478', '#E4DE30', '#00FF00', '#30E478', '#E4DE30', '#30D5E4'
        ];
        var dataClock = function (canvasId) {
            var utils = {
                radians: function (deg) { return (deg - 90) * Math.PI / 180 },
                pointX: function (hour) {
                    return (Math.sin(utils.radians(hour * 15)) * circle.center) + circle.center;
                },
                pointY: function (hour) {
                    return (Math.cos(utils.radians(hour * 15)) * circle.center) + circle.center;
                }
            };
            var _self = this;
            var paper = document.getElementById(canvasId);
            var pen = paper.getContext("2d");
            pen.fillStyle = pen.strokeStyle = 'black';
            pen.DrawArc = function (center, radius, startAngle, endAngle) {
                if (!endAngle) endAngle = startAngle + 15;
                pen.beginPath();
                pen.arc(center, center, radius, utils.radians(startAngle), utils.radians(endAngle));
                pen.stroke();
            }
            pen.lineWidth = 0.5;
            var circle = { center: paper.width / 2, unitRadius: paper.width / 16 };
            _self.plotData = function (data) {
                //Draw Lines
                for (var i = 0; i < 24; i++) {
                    if (i > 0 && i < 9)// Draw 8 circles t repesent 7 doughnuts
                        pen.DrawArc(circle.center, circle.unitRadius * i, 0, 360);
                    pen.beginPath();
                    pen.moveTo(circle.center, circle.center);
                    pen.lineTo(utils.pointX(i), utils.pointY(i));
                    pen.stroke();
                }
                //Draw data 
                pen.lineWidth = circle.unitRadius;
                for (var i = 0; i < data.length; i++) {
                    for (var j = 0; j < data[i].length; j++) {
                        pen.fillStyle = pen.strokeStyle = colors[j];
                        pen.DrawArc(circle.center, circle.unitRadius * (i + 1.5), parseInt(data[i][j] * 15));
                    }
                }
                pen.fillStyle = pen.strokeStyle = '#ffffff';
                pen.lineWidth = 0.5;
                pen.beginPath();
                pen.DrawArc(circle.center, circle.unitRadius, 0, 360);
                pen.fill();

            };
        }
    </script>
</head>
<body onload="BodyOnLoad()" >
    <div id="left">
</div>
    <div id="right">
        <canvas id="clock" width="400" height="400">
        </canvas>
    </div>
    <script type="text/javascript">
        var BodyOnLoad = function () {
            var dat = [[0, 2, 9], [4, 6, 13], [3, 5, 12], [5, 7, 14], [7, 9, 16], [11, 13, 21], [1, 3, 10]]
            var dc = new dataClock('clock');
            dc.plotData(dat);
        }
        
    </script>
</body>
</html>
